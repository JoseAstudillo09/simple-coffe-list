---
import "@fontsource/dm-sans";
import Star_fillIcon from "../assets/icons/Star_fill.astro";
import StarIcon from "../assets/icons/Star.astro"
interface Props {
  name: string;
  image: string;
  price: string;
  rating: number | null | string;
  votes: number;
  popular: boolean;
  available: boolean;
}

const { name, image, rating, votes, price, available, popular } = Astro.props;
const coffeStock = available ? "" : "Sold Out";
const coffePopular = popular ? "Popular" : "";
---

<article class="font-semibold w-[262px]  ">
  <div class="relative">
    <img class="rounded-xl" src={image} alt="" />
    <p
      class:list={[
        "absolute top-0 m-2 rounded-full px-4 py-1 text-[10px]",
        {
          "bg-[#F6C768] text-[#111315]": popular,
        },
      ]}
    >
      {coffePopular}
    </p>
  </div>
  <div class="flex flex-row gap-[75px] pt-2">
    <h2 class="text-left w-[130px]">{name}</h2>
    <p class="rounded font-bold bg-[#BEE3CC] px-3 py-1 text-[#111315] text-[12px]">
      {price}
    </p>
  </div>
  <div class="flex text-sm items-center text-center flex-row gap-1 pt-2 font-semibold">
    {rating ? <Star_fillIcon /> <h1 class="">{rating}</h1> <h1 class="text-[#6F757C]">({votes} votes)</h1> : <StarIcon/> <h1 class="text-[#6F757C]">No ratings</h1>}
    <p class="pl-[70px] text-sm font-bold text-[#ED735D]">{coffeStock}</p>
  </div>
</article>
